/*! js-sliderWithProgressbar - v0.1.0 - 2015-06-03
* Copyright (c) 2015 Daniel Sattler @ b:dreizehn Licensed MIT */
define(["jquery","slick-carousel"],function(a){return function(b,c,d){function e(){return console.log(i),i.$slider=a(i.sliderSelector).slick(a.extend(i.sliderOptions,{asNavFor:i.previewSliderSelector})),i.$previewSlider=a(i.previewSliderSelector).slick(a.extend(i.previewSliderOptions,{asNavFor:i.sliderSelector})),f(0),i.$slider.on("beforeChange",function(a,b,c,d){h=d,f(d)}),g}function f(a){var b=0,c=i.$previewSlider.find('[data-slick-index="'+a+'"]'),d=i.$previewSlider.find('[data-slick-index="'+a+'"]').find(i.progressBarSelector),e=i.$slider[0].slick.slickGetOption("autoplaySpeed");c.prevUntil().find(i.progressBarSelector).css("width","100%"),c.nextUntil().find(i.progressBarSelector).css("width","0%"),d.css("width","0%"),clearInterval(i.progressInterval),i.progressInterval=setInterval(function(){100>=b?(b++,d.css({width:b+"%"})):clearInterval(i.progressInterval)},e/100)}var g=this,h="",i=a.extend({sliderSelector:".bJS_slider",previewSliderSelector:".bJS_previewSlider",progressBarSelector:".bJS_progressBar",$slider:{},$previewSlider:{},progressInterval:""},b);return i.sliderOptions=a.extend({slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!0,autoplay:!0},c),i.previewSliderOptions=a.extend({slidesToShow:3,slidesToScroll:1,dots:!1,focusOnSelect:!0,centerMode:!0},d),g.pause=function(){clearInterval(i.progressInterval),i.$slider[0].slick.slickPause()},g.resume=function(){f(h),i.$slider[0].slick.slickPlay()},g.getSlick=function(){return i.$slider[0].slick},e()}});