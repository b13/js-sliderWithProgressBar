/*! js-sliderWithProgressbar - v0.1.0 - 2015-06-03
* Copyright (c) 2015 Daniel Sattler @ b:dreizehn Licensed MIT */
define(["jquery","slick-carousel"],function(a){return function(b){function c(){return g.$slider=a(g.sliderSelector).slick(a.extend(g.sliderOptions,{asNavFor:g.previewSliderSelector})),g.$previewSlider=a(g.previewSliderSelector).slick(a.extend(g.previewSliderOptions,{asNavFor:g.sliderSelector})),d(0),g.$slider.on("beforeChange",function(a,b,c,e){f=e,d(e)}),e}function d(a){var b=0,c=g.$previewSlider.find('[data-slick-index="'+a+'"]'),d=g.$previewSlider.find('[data-slick-index="'+a+'"]').find(g.progressBarSelector),e=g.$slider[0].slick.slickGetOption("autoplaySpeed");c.prevUntil().find(g.progressBarSelector).css("width","100%"),c.nextUntil().find(g.progressBarSelector).css("width","0%"),d.css("width","0%"),clearInterval(g.progressInterval),g.progressInterval=setInterval(function(){100>=b?(b++,d.css({width:b+"%"})):clearInterval(g.progressInterval)},e/100)}var e=this,f="",g=a.extend({sliderSelector:".bJS_slider",previewSliderSelector:".bJS_previewSlider",progressBarSelector:".bJS_progressBar",$slider:{},$previewSlider:{},progressInterval:"",sliderOptions:{slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!0,autoplay:!0},previewSliderOptions:{slidesToShow:3,slidesToScroll:1,dots:!1,focusOnSelect:!0,centerMode:!0}},b);return e.pause=function(){clearInterval(g.progressInterval),g.$slider[0].slick.slickPause()},e.resume=function(){d(f),g.$slider[0].slick.slickPlay()},e.getSlick=function(){return g.$slider[0].slick},c()}});